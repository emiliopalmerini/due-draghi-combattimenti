package templates

templ Home() {
	@Base("Combattimenti Online - Calcolatore di Incontri D&D") {
		<div class="page-header">
			<h1>Combattimenti Online</h1>
			<p style="font-size: var(--font-size-lg); color: var(--notion-text-light); max-width: 600px; margin: 0 auto;">Calcolatore di incontri per Dungeon Master - Supporta D&D 2014 e 2024</p>
		</div>

		<div class="form-container">
			<form id="encounter-form" hx-post="/calculate" hx-target="#result-container" hx-swap="innerHTML">
				<!-- Ruleset Selection -->
				<div class="form-section">
					<h2 class="form-section-title">Regole</h2>
					<div class="radio-group">
						<label class="radio-button">
							<input type="radio" name="ruleset" value="2024" checked/>
							<span>D&D 2024 (One D&D)</span>
						</label>
						<label class="radio-button">
							<input type="radio" name="ruleset" value="2014"/>
							<span>D&D 2014 (5Âª Edizione)</span>
						</label>
					</div>
					<p class="form-hint">Scegli quale edizione delle regole utilizzare</p>
				</div>

				<!-- Party Mode Selection -->
				<div class="form-section">
					<h2 class="form-section-title">Composizione Party</h2>
					<div class="radio-group">
						<label class="radio-button">
							<input type="radio" name="party_mode" value="same" checked/>
							<span>Stessi livelli</span>
						</label>
						<label class="radio-button">
							<input type="radio" name="party_mode" value="different"/>
							<span>Livelli diversi</span>
						</label>
					</div>
					<p class="form-hint">Tutti al medesimo livello o livelli misti</p>
				</div>

				<!-- Same Level Configuration -->
				<div id="party-same-panel" class="form-section">
					<h2 class="form-section-title">Party con Stessi Livelli</h2>
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
						<div class="form-field-group">
							<label for="party-level" class="form-label">Livello Personaggi</label>
							<input
								type="number"
								id="party-level"
								name="level"
								value="3"
								min="1"
								max="20"
								class="field"
								required
							/>
							<p class="form-hint">Da 1 a 20</p>
						</div>
						<div class="form-field-group">
							<label for="party-count" class="form-label">Numero Personaggi</label>
							<input
								type="number"
								id="party-count"
								name="count"
								value="4"
								min="1"
								max="8"
								class="field"
								required
							/>
							<p class="form-hint">Da 1 a 8 personaggi</p>
						</div>
					</div>
				</div>

				<!-- Different Levels Configuration -->
				<div id="party-different-panel" class="form-section" style="display: none;">
					<h2 class="form-section-title">Party con Livelli Diversi</h2>
					<div id="character-levels-container" style="display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1rem;">
						for i := 1; i <= 4; i++ {
							<div class="character-input-group">
								<label>Personaggio { string(rune('0' + byte(i))) }</label>
								<input type="number" name="character_levels" value="3" min="1" max="20" required/>
							</div>
						}
					</div>
					<div style="display: flex; gap: 0.5rem;">
						<button type="button" id="add-character" class="btn btn-secondary">+ Aggiungi</button>
						<button type="button" id="remove-character" class="btn btn-secondary">- Rimuovi</button>
					</div>
					<p class="form-hint">Inserisci il livello di ogni personaggio (1-20)</p>
				</div>

				<!-- Difficulty 2024 -->
				<div id="difficulty-2024-panel" class="form-section">
					<h2 class="form-section-title">DifficoltÃ  (D&D 2024)</h2>
					<div class="form-field-group">
						<label for="difficulty-2024" class="form-label">Livello di DifficoltÃ </label>
						<select id="difficulty-2024" name="difficulty_2024" class="field">
							<option value="Low">Bassa</option>
							<option value="Moderate" selected>Moderata</option>
							<option value="High">Alta</option>
						</select>
						<p class="form-hint">Scegli la difficoltÃ  desiderata per l'incontro</p>
					</div>
				</div>

				<!-- Difficulty 2014 -->
				<div id="difficulty-2014-panel" class="form-section" style="display: none;">
					<h2 class="form-section-title">DifficoltÃ  (D&D 2014)</h2>
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
						<div class="form-field-group">
							<label for="difficulty-2014" class="form-label">Livello di DifficoltÃ </label>
							<select id="difficulty-2014" name="difficulty_2014" class="field">
								<option value="Facile">Facile</option>
								<option value="Media" selected>Media</option>
								<option value="Difficile">Difficile</option>
								<option value="Letale">Letale</option>
							</select>
						</div>
						<div class="form-field-group">
							<label for="num-monsters" class="form-label">Numero di Mostri</label>
							<input
								type="number"
								id="num-monsters"
								name="num_monsters_2014"
								value="1"
								min="1"
								max="20"
								class="field"
								required
							/>
							<p class="form-hint">Per moltiplicatore XP</p>
						</div>
					</div>
				</div>

				<!-- Submit -->
				<div style="margin-top: 2rem; display: flex; gap: 1rem;">
					<button type="submit" class="btn btn-primary btn-large">
						Calcola Budget XP
					</button>
				</div>
			</form>
		</div>

		<!-- Results -->
		<div id="result-container" style="margin-top: 2rem;">
			<div class="result-placeholder">
				<h3>ðŸŽ² Risultati</h3>
				<p>I risultati dell'incontro appariranno qui dopo il calcolo</p>
			</div>
		</div>

	}
}
